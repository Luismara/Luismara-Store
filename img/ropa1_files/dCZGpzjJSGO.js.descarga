if (self.CavalryLogger) { CavalryLogger.start_js(["KshIB"]); }

__d("CVIBlockFromFriendRequestTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CVIBlockFromFriendRequestLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CVIBlockFromFriendRequestLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CVIBlockFromFriendRequestLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setExtraInfo=function(a){this.$1.extra_info=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,extra_info:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("CometAdditionalBlockingActionsDialog.react",["ix","fbt","CometCardedDialog.react","CometFBBlockMutation","CVIBlockFromFriendRequestTypedLogger","GraphQLGender","React","TetraButton.react","TetraButtonGroup.react","TetraListCell.react","TetraText.react","XMessagingBlockMessagesController","XMessagingUnblockMessagesController","cometAsyncFetch","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("React");c=b("React");var j=c.useState,k=new(b("CVIBlockFromFriendRequestTypedLogger"))();function l(a){__p&&__p();var c=a.fbid,d=a.gender,e=a.isBlocked,f=a.name,l=a.setBlocked;a=h._({"*":"Block {Blockee name}"},[h._name("Blockee name",f,d)]);f=h._({"*":"{Blockee name} is Blocked"},[h._name("Blockee name",f,d)]);d=j(!1);var m=d[0],n=d[1];d=function(){b("CometFBBlockMutation").commit(c,"FRIEND_REQUEST_REJECTED",function(){l(!0),n(!0),k.setEvent("block_user").log()},function(a){k.setEvent("mutation_error").setExtraInfo(["Error on facebook block mutation"]).log()})};return i.jsx(b("TetraListCell.react"),{addOnBottom:{component:i.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:{disabled:m,label:h._("Block"),onPress:d},size:"large"}),type:"buttons"},addOnPrimary:{icon:b("fbicon")._(g("482899"),24),type:"icon"},body:h._("You won't be able to see or contact each other on Facebook or Messenger."),disabled:m,headline:e?f:a})}function m(a){__p&&__p();var c=a.fbid,d=a.gender,e=a.isBlocked,f=a.isDisabled,j=a.name,l=a.setBlocked;a=h._({"*":"Block {Blockee name} on Messenger only"},[h._name("Blockee name",j,d)]);j=h._({"*":"{Blockee name} is Blocked on Messenger"},[h._name("Blockee name",j,d)]);var m=b("XMessagingBlockMessagesController").getURIBuilder().getURI(),n=b("XMessagingUnblockMessagesController").getURIBuilder().getURI(),o=function(a){var d={fbid:c};return b("cometAsyncFetch")(a,{data:d,method:"POST"})};d=function(){o(m).then(function(){l(!0),k.setEvent("block_messages").log()})["catch"](function(a){k.setEvent("mutation_error").setExtraInfo(["Error on messenger block mutation"]).log()})};var p=function(){o(n).then(function(){l(!1),k.setEvent("unblock_messages").log()})["catch"](function(a){k.setEvent("mutation_error").setExtraInfo(["Error on messenger unblock mutation"]).log()})};d={disabled:f,label:h._("Block"),onPress:d};p={disabled:f,label:h._("Unblock"),onPress:p,reduceEmphasis:!0};p={component:i.jsx(b("TetraButtonGroup.react"),{paddingTop:0,primary:e?p:d,size:"large"}),type:"buttons"};return i.jsx(b("TetraListCell.react"),{addOnBottom:p,addOnPrimary:{icon:b("fbicon")._(g("482899"),24),type:"icon"},body:h._("You won't be able to send messages or make calls to each other. You will still be able to see each other on Facebook."),disabled:f,headline:e||f===!0?j:a})}function a(a){__p&&__p();var c=a.gender,d=a.name,e=a.onClose;a=a.requesterId;var f=j(!1),g=f[0];f=f[1];var n=j(!1),o=n[0];n=n[1];c=new(b("GraphQLGender"))(c);c=c.toGenderConstEnum();var p=function(){g&&k.setEvent("user_blocked_on_dialog_close").log(),o&&k.setEvent("messages_blocked_on_dialog_close").log(),e()};return i.jsxs(b("CometCardedDialog.react"),{onClose:p,title:h._("Other steps you can take"),withCloseButton:!0,children:[i.jsx("div",{className:"oqcyycmt i0u1bx94 sej5wr8e m8hsej2k jei6r52m",children:i.jsx(b("TetraText.react"),{type:"body3",children:h._({"*":{"1":"If you don't want to hear from {Blockee name} you can also block her on Facebook and Messenger, or Messenger only.","2":"If you don't want to hear from {Blockee name} you can also block him on Facebook and Messenger, or Messenger only.","*":"If you don't want to hear from {Blockee name} you can also block them on Facebook and Messenger, or Messenger only."}},[h._name("Blockee name",d,c),h._pronoun(0,c)])})}),i.jsxs("div",{className:"i0u1bx94 sej5wr8e m8hsej2k jei6r52m",children:[i.jsx(l,{fbid:a,gender:c,isBlocked:g,name:d,setBlocked:f}),i.jsx(m,{fbid:a,gender:c,isBlocked:o,isDisabled:g,name:d,setBlocked:n})]}),i.jsx("div",{className:"ftzlm3b6 i0u1bx94 sej5wr8e m8hsej2k jei6r52m",children:i.jsx(b("TetraButton.react"),{label:h._("Done"),onPress:p,testid:void 0})})]})}e.exports=a}),null);