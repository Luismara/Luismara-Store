if (self.CavalryLogger) { CavalryLogger.start_js(["yaSJq"]); }

__d("CometMediaViewerComposer_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}];return{kind:"Fragment",name:"CometMediaViewerComposer_textWithEntities",type:"TextWithEntities",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"InlineFragment",type:"User",selections:a},{kind:"InlineFragment",type:"Page",selections:a},{kind:"InlineFragment",type:"Group",selections:a},{kind:"InlineFragment",type:"Event",selections:a}]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("CometMediaViewerComposerEmojiButton.react",["ix","fbt","CometComposerEmojiPickerTrigger.react","CometPressable.react","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){return i.jsx(b("CometComposerEmojiPickerTrigger.react"),{align:"end",position:"below",children:function(a,c){return i.jsx(b("CometPressable.react"),{"aria-label":h._("Insertar emoticono"),display:"inline",onPress:c,overlayDisabled:!0,ref:a,children:i.jsx("div",{className:"b3onmgus pby63qed ph5uu5jm ecm0bbzt",children:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("642533"),16)})})})}})}e.exports=a}),null);
__d("CometMediaViewerComposer.react",["fbt","requireDeferred","CometButton_DEPRECATED.react","CometComposer.react","CometComposerEditor.react","CometMediaViewerComposerEmojiButton.react","CometMediaViewerPhotoActions","CometMediaViewerVideoActions","CometRelay","React","TetraText.react","createCometComposerEditorStateFromTextWithEntities","createCometComposerMentionsEntity","createComposerDeferredPlugin","getDeferredComposerTransformer","reduceComposerViewStateToCreationData","stylex","CometMediaViewerComposer_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED;b("CometRelay").graphql;var i=b("CometRelay").useRelayEnvironment,j=b("React");d=b("React");var k=d.useCallback,l=d.useState,m=b("createComposerDeferredPlugin")((f=b("requireDeferred"))("CometComposerHashtagsPlugin.react")),n=b("createComposerDeferredPlugin")(f("CometComposerMisinformationLinkDetectorPlugin.react")),o=b("createComposerDeferredPlugin")(f("CometMediaViewerComposerMentionsPlugin.react"));d=f("composerMessageMediaViewerTransform");var p=[b("getDeferredComposerTransformer")(d)];function q(a){__p&&__p();if(a==null)return{__type:"plain-text",hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null,text:""};var c=a.text;a=(a=a==null?void 0:a.ranges)!=null?a:[];var d=[];for(var e=0;e<a.length;e++){var f=a[e];f!=null&&f.offset!=null&&f.length!=null&&f.entity!=null&&f.entity.__typename!=null&&d.push({entity:f.entity,entity_is_weak_reference:f==null?void 0:f.entity_is_weak_reference,length:f.length,offset:f.offset})}return b("createCometComposerEditorStateFromTextWithEntities")({ranges:d,text:(f=c)!=null?f:""},function(a,c){a=a.entity;var d=a.__typename;a=a.id;return(d==="User"||d==="Page"||d==="Event"||d==="Group")&&a!=null?b("createCometComposerMentionsEntity")(a,!1,c):null})}function a(a){__p&&__p();var c=l(!1),d=c[0],e=c[1],f=i();c=l(null);var h=c[0],r=c[1],s=a.mediaType,t=a.message,u=a.nodeID,v=a.setIsEditing;c=k(function(){return q(t)},[t]);var w=k(function(a){var c=s==="video"?b("CometMediaViewerVideoActions"):b("CometMediaViewerPhotoActions"),d="",g=a==null?void 0:a.editorState;g!=null&&(g.__type==="editor-state-based"?d=g.draftEditorState.getCurrentContent().getPlainText():d=g.text);b("reduceComposerViewStateToCreationData")(a,p,{id:u,message:{text:d}},function(a){r(null),e(!0),c.edit({environment:f,input:{id:u,message:a.message},onCompleted:function(){v!=null&&v(!1)},onError:function(){v!=null&&v(!1)}})})},[s,u,f,v]),x=h!=null?Object.keys(h):[];return j.jsx("div",{children:j.jsx(b("CometComposer.react"),{beginningViewState:{editorState:c()},onSubmitCommit:w,children:function(c){return j.jsxs(j.Fragment,{children:[h&&x.length>0?j.jsx("div",{children:x.map(function(a,c){return j.jsx(b("TetraText.react"),{color:"negative",type:"body3",children:h[a]},c)})}):null,j.jsx(o,{nodeID:u,position:"below"}),j.jsx(m,{}),j.jsx(n,{composerType:"feed"}),j.jsxs("div",{className:"pxsmfnpt n851cfcs i1fnvgqd cbu4d94t j83agx80 oo9gr5id",children:[j.jsx(b("CometComposerEditor.react"),{placeholder:"Add a description",readOnly:d}),j.jsx("div",{className:"bkfpd7mw j83agx80",children:j.jsx(b("CometMediaViewerComposerEmojiButton.react"),{})})]}),j.jsxs("div",{className:"j83agx80",children:[j.jsx("div",{children:a.submitButton({disabled:d,submitForm:c})}),j.jsx("div",{className:"b3onmgus",children:j.jsx(b("CometButton_DEPRECATED.react"),{disabled:d,onClick:function(){v!=null&&v(!1)},use:"secondary",children:g._("Cancelar")})})]})]})}})})}e.exports=c(a,{message:h!==void 0?h:h=b("CometMediaViewerComposer_textWithEntities.graphql")})}),null);
__d("useCometMediaViewerComposerMentionsStrategyResolver",["React","createCometAtSignMentionStrategy","createCometCapitalizedNameMentionStrategy","useCometMediaViewerComposerMentionsDataSource","useCometMentionsStrategyResolver"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useMemo;function a(a){var c=b("useCometMediaViewerComposerMentionsDataSource")({config:{bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user","group","event","page"]}},existingIDs:[],limit:5,photoID:a}),d=b("useCometMediaViewerComposerMentionsDataSource")({config:{bootstrap:{firstDegreeFinderOptions:["FRIENDS_ONLY"],mentionTypes:["USER"]},network:{mentionTypes:["user"]}},existingIDs:[],limit:5,photoID:a});a=g(function(){return[{dataSource:c,searchStrategy:b("createCometAtSignMentionStrategy")({minMatchLength:1})},{dataSource:d,searchStrategy:b("createCometCapitalizedNameMentionStrategy")({minMatchLength:3})}]},[c,d]);return b("useCometMentionsStrategyResolver")(a)}e.exports=a}),null);
__d("CometMediaViewerComposerMentionsPlugin.react",["CometComposerMentionsPlugin.react","FeedComposerCometMentionsTypeheadListItem.react","React","createCometComposerMentionsEntity","useCometMediaViewerComposerMentionsStrategyResolver","withComposerViewStatePart"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("React");function h(a){return a.getLabel()}function i(a,c){return b("createCometComposerMentionsEntity")(c.getKey(),!1,a)}function a(a){var c=a.currentBlockKey,d=a.nodeID;a=a.position;a=a===void 0?"above":a;d=b("useCometMediaViewerComposerMentionsStrategyResolver")(d);return g.jsx(b("CometComposerMentionsPlugin.react"),{currentBlockKey:c,getReplacementString:h,onMentionCreateContentState:i,position:a,priority:1,strategyResolver:d,viewItemStrategyRenderer:b("FeedComposerCometMentionsTypeheadListItem.react")})}e.exports=b("withComposerViewStatePart")(a,function(a){a=a==null?void 0:a.editorState;a=a!=null&&a.__type==="editor-state-based"?a.draftEditorState:null;return{currentBlockKey:a!=null?a.getSelection().getStartKey():null}})}),null);
__d("composerMessageMediaViewerTransform",["cometComposerMentionsBlockToEntity","getPlainTextFromDeferredDraftEditorState","transformDraftEditorStateToTextWithEntities"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){__p&&__p();a=a.editorState;if(a==null)d(c);else if(a.__type==="plain-text")d(babelHelpers["extends"]({},c,{message:{text:b("getPlainTextFromDeferredDraftEditorState")(a)}}));else if(a.__type==="editor-state-based"){a=a.draftEditorState;a=b("transformDraftEditorStateToTextWithEntities")(a,[b("cometComposerMentionsBlockToEntity")]);d(babelHelpers["extends"]({},c,{message:a}))}}e.exports=a}),null);
__d("CometMediaOptionsClickFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("comet_media_options_click");e.exports=a}),null);
__d("CometMediaTagFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("comet_media_tag");e.exports=a}),null);
__d("CometMediaVpvdFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("comet_media_vpvd");e.exports=a}),null);