if (self.CavalryLogger) { CavalryLogger.start_js(["ZR97g"]); }

__d("MarketplaceSurfaceEnterFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("marketplace_surface_enter");e.exports=a}),null);
__d("MarketplaceSurfaceExitFalcoEvent",["FalcoLoggerInternal"],(function(a,b,c,d,e,f){"use strict";a=b("FalcoLoggerInternal").create("marketplace_surface_exit");e.exports=a}),null);
__d("CometMarketplaceSurfaceLoggingUtils",["CometRouteURL","FBLogger","LocalSellUserActionsTypedLoggerLite","MarketplaceSurfaceEnterFalcoEvent","MarketplaceSurfaceExitFalcoEvent","React","gkx","useCometRouteTracePolicy","useRouteReferrer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometRouteURL").useRouteURLParams;d=b("React");f=b("React");var h=f.useRef,i=Object.freeze({"comet.marketplace.category":"category_feed","comet.marketplace.composer":"composer","comet.marketplace.composer.create":"composer","comet.marketplace.composer.edit":"composer","comet.marketplace.deals":"marketplace_daily_deals","comet.marketplace.deals.category":"marketplace_daily_deals","comet.marketplace.deals.featured":"marketplace_daily_deals","comet.marketplace.deals.product":"marketplace_daily_deals","comet.marketplace.groups":"buy_sell_group_home","comet.marketplace.home":"browse_tab","comet.marketplace.home_sales":"category_feed","comet.marketplace.item":"product_details","comet.marketplace.notifications":"marketplace_tab_notifications","comet.marketplace.rentals":"category_feed","comet.marketplace.search":"search","comet.marketplace.stores.product":"marketplace_b2c_unified_landing","comet.marketplace.stores.story":"marketplace_b2c_unified_landing","comet.marketplace.vehicle_entity_page":"vehicle_entity_page","comet.marketplace.you":"marketplace_page_profile","comet.marketplace.you.orders":"marketplace_orders","comet.marketplace.you.saved":"saved","comet.marketplace.you.selling":"marketplace_page_selling"});function j(a){if(a!=null&&Object.prototype.hasOwnProperty.call(i,a))return i[a];else a!=null&&a.startsWith("comet.marketplace")&&b("FBLogger")("marketplace").mustfix("No surface mapping exists for tracePolicy %s, Please  add it to CometMarketplaceSurfaceLoggingUtils.js",a);return null}function k(a){return a}function l(a){return{feed_category_ids:(a==null?void 0:a.categoryID)!=null?[Number(a==null?void 0:a.categoryID)]:void 0,product_item_id:a==null?void 0:a.productItemID,referral_code:a==null?void 0:a.referralCode,referral_story_type:a==null?void 0:a.referralStoryType}}function a(a,c,d){__p&&__p();var e;d===void 0&&(d={});var f=l(d),g=c.surface,h=(e=d)==null?void 0:e.categoryID;if(b("gkx")("1152788")){g!=null&&(a==="surface_exit"?b("MarketplaceSurfaceExitFalcoEvent").log(function(){var a;return{categoryIDs:h!=null?[h]:null,productItemID:(a=d)==null?void 0:a.productItemID,referralCode:(a=d)==null?void 0:a.referralCode,referralStoryType:(a=d)==null?void 0:a.referralStoryType,referralSurface:c.referralSurface,surface:g,timeSinceLastAction:-1}}):a==="surface_enter"&&b("MarketplaceSurfaceEnterFalcoEvent").log(function(){var a;return{categoryIDs:h!=null?[h]:null,productItemID:(a=d)==null?void 0:a.productItemID,referralCode:(a=d)==null?void 0:a.referralCode,referralStoryType:(a=d)==null?void 0:a.referralStoryType,referralSurface:c.referralSurface,surface:g}}));return}b("LocalSellUserActionsTypedLoggerLite").log(babelHelpers["extends"]({event:a,referral_surface:c.referralSurface,surface:c.surface},f))}f=d.createContext({referralSurface:null,surface:null});function c(){var a=b("useCometRouteTracePolicy")(),c=b("useRouteReferrer")();c=h(c==null?void 0:c.tracePolicy);var d=g();d=d.ref;d=(d=k(d))!=null?d:j(c.current);return{referralSurface:d,surface:j(a)}}e.exports={DialogSurfaceContext:f,coerceUrlRefParamToValidType:k,formatMetadataForLogging:l,getSurfaceFromTracePolicy:j,logSurfaceEvent:a,tracePolicyToSurfaceMapping:i,useCurrentMarketplaceSurfaceFromTracePolicy:c}}),null);
__d("useCurrentMarketplaceSurface",["CometMarketplaceSurfaceLoggingUtils","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("CometMarketplaceSurfaceLoggingUtils").DialogSurfaceContext,h=b("CometMarketplaceSurfaceLoggingUtils").useCurrentMarketplaceSurfaceFromTracePolicy;c=b("React");var i=c.useContext;function a(a){a===void 0;a=i(g);var b=h();return a.surface?a:b}e.exports=a}),null);