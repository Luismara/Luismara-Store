if (self.CavalryLogger) { CavalryLogger.start_js(["KkQ3+"]); }

__d("useCometFeedFormattedTextRenderer_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"useCometFeedFormattedTextRenderer_message",type:"TextWithEntities",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities",args:null}]};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_metadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"scale",variableName:"scale"}],b=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}];return{kind:"Fragment",name:"useCometFeedFormattedTextRenderer_metadata",type:"TextFormatMetadata",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"background_color",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"background_gradient_color",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"background_gradient_direction",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"background_image",storageKey:null,args:a,concreteType:"Image",plural:!1,selections:b},{kind:"ScalarField",alias:null,name:"color",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"font_weight",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"font_style",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"portrait_background_image",storageKey:null,args:a,concreteType:"Image",plural:!1,selections:b},{kind:"ScalarField",alias:null,name:"text_align",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("cometHexToRgba",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=parseInt(a.substring(0,2),16)/255,c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);a=parseInt(a.substring(6,8),16);return"rgba("+c+","+d+","+a+","+b+")"}e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer",["CometRelay","React","UnicodeUtils","cometHexToRgba","useCometFeedFormattedTextRenderer_message.graphql","useCometFeedFormattedTextRenderer_metadata.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment;c=b("React");var k=c.useMemo,l=30;function m(a,b,c){__p&&__p();var d="";switch(c){case"BOTTOM_TOP":d="to top";break;case"BL_TR":d="45deg";break;case"LEFT_RIGHT":d="to right";break;case"TL_BR":d="135deg";break;case"TR_BL":d="225deg";break;case"RIGHT_LEFT":d="to left";break;case"BR_TL":d="315deg";break;case"TOP_BOTTOM":default:d="to bottom";break}return"linear-gradient("+d+","+a+","+b+")"}function n(a){switch(a){case"normal":return"normal";case"bold":default:return"bold"}}function o(a){if(a==null||a.length===0)return l;a=(i||(i=b("UnicodeUtils"))).strlen(a);if(a>360)return 16;return a>180?24:l}function a(a,c,d){__p&&__p();d===void 0&&(d=!1);a=j(g!==void 0?g:g=b("useCometFeedFormattedTextRenderer_message.graphql"),a);c=j(h!==void 0?h:h=b("useCometFeedFormattedTextRenderer_metadata.graphql"),c);var e=a==null?void 0:a.text;a=k(function(){return o(e)},[e]);if(c==null)return{backgroundStyle:null,fontSize:a,textColor:null,textStyle:null};var f=c.background_color,i=c.background_gradient_color,l=c.background_gradient_direction,p=c.background_image,q=c.color,r=c.font_style,s=c.font_weight,t=c.portrait_background_image;c=c.text_align;var u={backgroundColor:f!=null?b("cometHexToRgba")(f):null};p=p==null?void 0:p.uri;t=t==null?void 0:t.uri;if(p!=null)d&&t!=null?u.backgroundImage="url("+t+")":u.backgroundImage="url("+p+")",u.backgroundPosition="center center",u.backgroundSize="cover";else if(i!=null&&f!=null){d=b("cometHexToRgba")(f);t=b("cometHexToRgba")(i);u.backgroundImage=m(d,t,l)}p=q!=null?b("cometHexToRgba")(q):null;f={color:p,fontSize:a+"px",fontStyle:r,fontWeight:n(s),textAlign:c};return{backgroundStyle:u,fontSize:a,textColor:p,textStyle:f}}e.exports=a}),null);