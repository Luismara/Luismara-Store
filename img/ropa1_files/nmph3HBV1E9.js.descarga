if (self.CavalryLogger) { CavalryLogger.start_js(["DJn12"]); }

__d("CometMarketplaceNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometMarketplaceNotificationsDropdownMenuButton_notification",type:"NotificationStoriesEdge",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"CometMarketplaceNotificationsDropdownMenu_notification",args:null}]};e.exports=a}),null);
__d("CometMarketplaceNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometMarketplaceNotificationsListItem_notification",type:"NotificationStoriesEdge",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"profile_image_source_override",storageKey:"profile_image_source_override(height:68,scale:1,width:68)",args:[{kind:"Literal",name:"height",value:68},{kind:"Literal",name:"scale",value:1},{kind:"Literal",name:"width",value:68}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"notif_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"title",storageKey:'title(location:"summary")',args:[{kind:"Literal",name:"location",value:"summary"}],concreteType:"TextWithEntities",plural:!1,selections:[{kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities",args:null}]},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'},{kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"CometMarketplaceNotificationsDropdownMenuButton_notification",args:null}]};e.exports=a}),null);
__d("CometMarketplaceNotificationsListPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"cursor",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"count",type:"Int",defaultValue:null}],b=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Literal",name:"source",value:"marketplace"}],c={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'},i={kind:"LinkedField",alias:null,name:"work_foreign_entity_info",storageKey:null,args:null,concreteType:"WorkForeignEntityInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"type",args:null,storageKey:null}]};i=[{kind:"LinkedField",alias:null,name:"image_ranges",storageKey:null,args:null,concreteType:"ImageAtRange",plural:!0,selections:[e,f,{kind:"LinkedField",alias:null,name:"entity_with_image",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"scale",args:null,storageKey:null},c,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}]},d]}]},{kind:"LinkedField",alias:null,name:"inline_style_ranges",storageKey:null,args:null,concreteType:"InlineStyleAtRange",plural:!0,selections:[e,f,{kind:"ScalarField",alias:null,name:"inline_style",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"aggregated_ranges",storageKey:null,args:null,concreteType:"AggregatedEntitiesAtRange",plural:!0,selections:[e,f,{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"sample_entities",storageKey:null,args:null,concreteType:null,plural:!0,selections:[g,d,{kind:"InlineFragment",type:"User",selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,d,h,{kind:"ScalarField",alias:"profile_url",name:"url",args:null,storageKey:null},{kind:"InlineFragment",type:"ExternalUrl",selections:[{kind:"ScalarField",alias:null,name:"external_url",args:null,storageKey:null}]},{kind:"InlineFragment",type:"VideoTimeIndex",selections:[{kind:"ScalarField",alias:null,name:"time_index",args:null,storageKey:null}]},{kind:"InlineFragment",type:"Page",selections:[{kind:"ScalarField",alias:null,name:"category_type",args:null,storageKey:null}]},{kind:"InlineFragment",type:"User",selections:[i]},{kind:"InlineFragment",type:"Group",selections:[i,{kind:"ScalarField",alias:null,name:"work_official_status",args:null,storageKey:null}]}]},e,f]},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}];return{kind:"Request",fragment:{kind:"Fragment",name:"CometMarketplaceNotificationsListPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"FragmentSpread",name:"CometMarketplaceNotificationsList_viewer",args:null}]}]},operation:{kind:"Operation",name:"CometMarketplaceNotificationsListPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"notification_stories",storageKey:null,args:b,concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NotificationStoriesEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"profile_image_source_override",storageKey:"profile_image_source_override(height:68,scale:1,width:68)",args:[{kind:"Literal",name:"height",value:68},{kind:"Literal",name:"scale",value:1},{kind:"Literal",name:"width",value:68}],concreteType:"Image",plural:!1,selections:[c]},{kind:"ScalarField",alias:null,name:"notif_type",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"creation_time",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"title",storageKey:'title(location:"summary")',args:[{kind:"Literal",name:"location",value:"summary"}],concreteType:"TextWithEntities",plural:!1,selections:i},h,{kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null},g]},{kind:"LinkedField",alias:null,name:"targeting_reason",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:i},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedHandle",alias:null,name:"notification_stories",args:b,handle:"connection",key:"CometMarketplaceNotificationsList_notification_stories",filters:["source","environment"]},{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[g,d]}]}]},params:{operationKind:"query",name:"CometMarketplaceNotificationsListPaginationQuery",id:"2764868203588862",text:null,metadata:{derivedFrom:"CometMarketplaceNotificationsList_viewer",isRefetchableQuery:!0}}}}();e.exports=a}),null);
__d("CometMarketplaceNotificationsList_viewer.graphql",["CometMarketplaceNotificationsListPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["notification_stories"],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"CometMarketplaceNotificationsList_viewer",type:"Viewer",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},operation:b("CometMarketplaceNotificationsListPaginationQuery.graphql"),fragmentPathInResult:["viewer"]}},argumentDefinitions:[{kind:"RootArgument",name:"cursor",type:"ID"},{kind:"RootArgument",name:"count",type:"Int"}],selections:[{kind:"LinkedField",alias:"notification_stories",name:"__CometMarketplaceNotificationsList_notification_stories_connection",storageKey:'__CometMarketplaceNotificationsList_notification_stories_connection(environment:"MARKETPLACE",source:"marketplace")',args:[{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Literal",name:"source",value:"marketplace"}],concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NotificationStoriesEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometMarketplaceNotificationsListItem_notification",args:null}]},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c]}]}}();e.exports=a}),null);
__d("CometMarketplaceNotificationsMarkReadMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"NotificationStoryMarkReadData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"notification_stories",storageKey:'notification_stories(environment:"MARKETPLACE",source:"marketplace")',args:[{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Literal",name:"source",value:"marketplace"}],concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"unseen_count",args:null,storageKey:null}]}]},d={kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CometMarketplaceNotificationsMarkReadMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"notification_story_mark_read",storageKey:null,args:b,concreteType:"NotificationStoryMarkReadResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[d]}]}]},operation:{kind:"Operation",name:"CometMarketplaceNotificationsMarkReadMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"notification_story_mark_read",storageKey:null,args:b,concreteType:"NotificationStoryMarkReadResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CometMarketplaceNotificationsMarkReadMutation",id:"2187930184637000",text:null,metadata:{}}}}();e.exports=a}),null);
__d("CometMarketplaceNotificationsMarkSeenMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"ViewerNotificationsUpdateAllSeenStateData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"notification_stories",storageKey:'notification_stories(environment:"MARKETPLACE",first:200,seen_state:"UNSEEN_AND_UNREAD",source:"marketplace")',args:[{kind:"Literal",name:"environment",value:"MARKETPLACE"},{kind:"Literal",name:"first",value:200},{kind:"Literal",name:"seen_state",value:"UNSEEN_AND_UNREAD"},{kind:"Literal",name:"source",value:"marketplace"}],concreteType:"NotificationStoriesConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"NotificationStoriesEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]}]},d={kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null};return{kind:"Request",fragment:{kind:"Fragment",name:"CometMarketplaceNotificationsMarkSeenMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer_notifications_update_all_seen_state",storageKey:null,args:b,concreteType:"ViewerNotificationsUpdateAllSeenStateResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"stories",storageKey:null,args:null,concreteType:"Story",plural:!0,selections:[d]}]}]},operation:{kind:"Operation",name:"CometMarketplaceNotificationsMarkSeenMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"viewer_notifications_update_all_seen_state",storageKey:null,args:b,concreteType:"ViewerNotificationsUpdateAllSeenStateResponsePayload",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"stories",storageKey:null,args:null,concreteType:"Story",plural:!0,selections:[d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]},params:{operationKind:"mutation",name:"CometMarketplaceNotificationsMarkSeenMutation",id:"2402439296469998",text:null,metadata:{}}}}();e.exports=a}),null);
__d("CometMarketplaceNotificationsDropdownMenuButton.react",["ix","fbt","CometLazyPopoverTrigger.react","CometRelay","JSResource","React","TetraCircleButton.react","fbicon","stylex","CometMarketplaceNotificationsDropdownMenuButton_notification.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("React");c=b("React");var m=c.useCallback,n=c.useMemo,o=b("JSResource")("CometMarketplaceNotificationsDropdownMenu.react").__setRef("CometMarketplaceNotificationsDropdownMenuButton.react");function a(a){__p&&__p();var c=k(i!==void 0?i:i=b("CometMarketplaceNotificationsDropdownMenuButton_notification.graphql"),a.notification),d=a.onFocusChange,e=a.onHoverChange,f=a.onMenuStateChange,p=m(function(a){f!=null&&f(a)},[f]),q=n(function(){return d!=null?{onFocusIn:function(){return d(!0)},onFocusOut:function(){return d(!1)}}:{}},[d]),r=n(function(){if(e!=null)return{onHoverIn:function(){return e(!0)},onHoverOut:function(){return e(!1)}}},[e]);return l.jsx(b("CometLazyPopoverTrigger.react"),{align:"middle",onVisibilityChange:p,popoverProps:{notification:c},popoverResource:o,position:"end",children:function(c,d){return l.jsx("div",{className:(j||(j=b("stylex"))).dedupe({"end-1":"cypi58rs","pointer-events-1":"mrt03zmi","position-1":"pmk7jnqg","top-1":"rk01pc8j","transform-0.1":"ke6wolob"},a.hidden?{"clip-1":"svngc6pa","height-1":"ay7djpcl","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"pmk7jnqg","width-1":"rfua0xdk"}:null),ref:c,children:l.jsx("div",{className:"tjpuhgmx spb7xbtv bkmhp75w emlxlaya s45kfl79 ovq5dppa",children:l.jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({color:"secondary",icon:b("fbicon")._(g("484387"),20),label:h._("Men\u00fa"),onPress:function(){d()},size:36},q,r))})})}})}e.exports=a}),null);
__d("CometMarketplaceNotificationsGlimmer.react",["CometList_DEPRECATED.react","CometListItemGlimmer.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){return g.jsx(b("CometList_DEPRECATED.react"),{children:g.jsx(b("CometListItemGlimmer.react"),{imageSize:60,imageStyle:"circle",numberOfItems:4})})}e.exports=a}),null);
__d("CometMarketplaceNotificationsMarkReadMutation",["CometRelay","CometRelayEnvironment","createCommitMutation","CometMarketplaceNotificationsMarkReadMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;a=b("createCommitMutation").createCommitMutation;e.exports.commit=a(b("CometRelayEnvironment"),{mutation:g!==void 0?g:g=b("CometMarketplaceNotificationsMarkReadMutation.graphql")})}),null);
__d("CometMarketplaceNotificationsListItem.react",["ix","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometMarketplaceNotificationsDropdownMenuButton.react","CometMarketplaceNotificationsMarkReadMutation","CometMarketplaceRoutingUtils","CometRelativeTimestamp.react","CometRelay","CometTextWithEntitiesRelay.react","React","TetraAccessoryListCell.react","TetraText.react","absoluteToRelative","cometRouteMatcher","fbicon","gkx","stylex","useMenuButtonVisibilityState","CometMarketplaceNotificationsListItem_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("CometMarketplaceRoutingUtils").useMessengerThreadURLDispatcher,j=b("CometRelay").useFragment;b("CometRelay").graphql;var k=b("React");c=b("React");var l=c.useCallback,m=b("cometRouteMatcher").useRouteUrlMatcher,n={"*":[b("CometBoldedEntityRenderer")]},o=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()],p={marketplace_buyer_message_received_reminder:!0,marketplace_seller_item_interest_reminder:!0};function a(a){__p&&__p();var c,d,e=i(),f=b("useMenuButtonVisibilityState")(),q=f[0];f=f[1];var r=f.setListItemHovered,s=f.setMenuBtnFocused,t=f.setMenuBtnHovered;f=f.setMenuOpened;var u=l(function(){r(!1)},[r]),v=l(function(){r(!0)},[r]),w=a.isLHC;a=j(h!==void 0?h:h=b("CometMarketplaceNotificationsListItem_notification.graphql"),a.notification);var x=(c=a.node)==null?void 0:c.id;c=(c=a.node)==null?void 0:c.url;var y=a==null?void 0:a.notif_type,z=y!=null&&p[y]===!0;y=m();var A=b("absoluteToRelative")(c),B=l(function(){if(typeof x!=="string")return;b("CometMarketplaceNotificationsMarkReadMutation").commit({source:"marketplace",story_id:x});if(z){var a=A.split("/")[3];a&&e(a)}},[x,e,z,A]);if(a.node==null)return null;var C=a.node,D=C.creation_time,E=C.seen_state;C=C.title;C=C;d=(d=a.profile_image_source_override)==null?void 0:d.uri;if(x==null||C==null||E==null||D==null)return null;c=c!=null?y(A).selected:!1;y=new Date(D*1e3);D=E==="SEEN_AND_READ";return k.jsxs("div",{className:"l9j0dhe7",onMouseEnter:v,onMouseLeave:u,children:[k.jsx(b("TetraAccessoryListCell.react"),{addOnPrimary:d!=null?{shape:"circle",size:60,source:{uri:d},type:"profile-photo"}:{icon:b("fbicon")._(g("543730"),24),size:60,type:"contained-icon"},body:k.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:n,textWithEntities:C,transforms:o,withParagraphs:!0}),bodyColor:D?"secondary":"primary",bodyLineLimit:3,linkProps:{preventLocalNavigation:z,routeTarget:w?"content":"self",url:A},meta:k.jsxs(b("TetraText.react"),{color:D?"secondary":"highlight",type:"body4",children:[D?null:k.jsx(b("CometBadge.react"),{color:"blue"}),k.jsx(b("CometRelativeTimestamp.react"),{date:y,format:"minimized"})]}),onPress:B,selected:c,testid:void 0}),b("gkx")("1159769")?k.jsx(b("CometMarketplaceNotificationsDropdownMenuButton.react"),{hidden:!q,notification:a,onFocusChange:s,onHoverChange:t,onMenuStateChange:f}):null]})}e.exports=a}),null);
__d("CometMarketplaceNotificationsMarkSeenMutation",["CometRelay","CometRelayEnvironment","createCommitMutation","CometMarketplaceNotificationsMarkSeenMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;a=b("createCommitMutation").createCommitMutation;e.exports.commit=a(b("CometRelayEnvironment"),{mutation:g!==void 0?g:g=b("CometMarketplaceNotificationsMarkSeenMutation.graphql")})}),null);
__d("CometMarketplaceNotificationsList.react",["fbt","CometCard.react","CometErrorBoundary.react","CometInfiniteScrollTrigger.react","CometListSection_DEPRECATED.react","CometMarketplaceNotificationsGlimmer.react","CometMarketplaceNotificationsListItem.react","CometMarketplaceNotificationsMarkSeenMutation","CometRelay","React","TetraText.react","TetraUnitHeader.react","XCometMarketplaceNotificationsControllerRouteBuilder","stylex","useCometRouterDispatcher","useVisibilityObserver","CometMarketplaceNotificationsList_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("CometRelay").graphql;var i=b("CometRelay").usePaginationFragment,j=b("React");c=b("React");var k=c.useCallback,l=c.useEffect,m=c.useState,n=3;function a(a){__p&&__p();var c=a.isLHC,d=c===void 0?!0:c,e=a.setEmptyNotificationsView;c=i(h!==void 0?h:h=b("CometMarketplaceNotificationsList_viewer.graphql"),a.viewer);var f=c.data;a=c.hasNext;var o=c.isLoadingNext,p=c.loadNext;c=m({});var q=c[0],r=c[1],s=(f==null?void 0:(c=f.notification_stories)==null?void 0:c.edges)||[],t=b("useVisibilityObserver")({onVisible:y}),u=[],v=[],w=b("useCometRouterDispatcher")();c=k(function(){w&&w.go(b("XCometMarketplaceNotificationsControllerRouteBuilder").buildURL({}),{})},[w]);function x(){if(o)return;p(10)}l(function(){var a=s;a.length===0&&(e&&e(!0));var b=q;a.forEach(function(a){var c;if(((c=a.node)==null?void 0:c.seen_state)==="UNSEEN_AND_UNREAD"&&a.node!=null&&a.node.id!=null&&b[a.node.id]!==!0){b=babelHelpers["extends"]({},b,(c={},c[a.node.id]=!0,c))}});b!==q&&r(b)},[s,e,q]);if(s.length===0)return d?j.jsx("div",{className:"dati1w0a",children:j.jsx(b("TetraText.react"),{type:"body4",children:g._("No tienes notificaciones nuevas.")})}):null;s.forEach(function(a){a=a;if(a.node==null)return;var b=a.node.id;b!=null&&q[b]?u.push(a):v.push(a)});function y(){var a;a=f==null?void 0:(a=f.actor)==null?void 0:a.id;var c=u.map(function(a){return(a=a.node)==null?void 0:a.id}).filter(Boolean);if(c.length===0||a==null)return;b("CometMarketplaceNotificationsMarkSeenMutation").commit({environment:"MARKETPLACE",source:"marketplace",story_ids:c,update_type:"seen"})}y=(d?u:u.slice(0,n)).map(function(a){var c;return j.jsx(b("CometErrorBoundary.react"),{fallback:function(){return j.jsx("span",{})},children:j.jsx("div",{ref:t,children:j.jsx(b("CometMarketplaceNotificationsListItem.react"),{isLHC:d,notification:a},(c=a.node)==null?void 0:c.id)})},(c=a.node)==null?void 0:c.id)});var z=d?v.map(function(a){return j.jsx(b("CometMarketplaceNotificationsListItem.react"),{isLHC:d,notification:a},(a=a.node)==null?void 0:a.id)}):null;a=d?j.jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:a,isLoading:o,onLoadMore:x,rootMargin:1e3,children:j.jsx(b("CometMarketplaceNotificationsGlimmer.react"),{})}):null;x=y.length!==0?j.jsxs(j.Fragment,{children:[j.jsx(b("CometListSection_DEPRECATED.react"),{heading:d?g._("Nuevas"):"",children:y},"new"),d?j.jsx(b("CometListSection_DEPRECATED.react"),{heading:g._("Anteriores"),children:z},"earlier"):void 0]}):z;return d?j.jsxs(j.Fragment,{children:[x,a]}):Object.keys(q).length>0?j.jsxs(b("CometCard.react"),{background:"white",border:"solid",borderHighlightAnimation:!0,dropShadow:2,children:[j.jsx(b("TetraUnitHeader.react"),{action:g._("Ver todo"),headline:g._("Nuevas notificaciones"),level:3,onActionPress:c}),x,a]}):null}e.exports=a}),null);