if (self.CavalryLogger) { CavalryLogger.start_js(["VdBFU"]); }

__d("XCometNotificationsControllerRouteBuilder",["cometRouteBuilder"],(function(a,b,c,d,e,f){a=b("cometRouteBuilder")("/notifications/",Object.freeze({}),void 0);e.exports=a}),null);
__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometNotificationsDropdownMenuButton_notification",type:"Notification",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"notif_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"notif_type",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometNotificationsDropdownMenu_notification",args:null}]};e.exports=a}),null);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometNotificationsListItemAttachment_notification",type:"Notification",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"notif_attachments",storageKey:null,args:null,concreteType:null,plural:!0,selections:[{kind:"InlineFragment",type:"FriendRequestNotifAttachment",selections:[{kind:"ModuleImport",documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments"}]}]}]};e.exports=a}),null);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometNotificationsListItem_actor",type:"Actor",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"CometNotificationsListItem_notification",type:"Notification",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"notif_id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"title",storageKey:'title(location:"summary")',args:[{kind:"Literal",name:"location",value:"summary"}],concreteType:"TextWithEntities",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities",args:null}]},{kind:"LinkedField",alias:null,name:"notif_image",storageKey:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"notif_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www"}],storageKey:'url(site:"www")'},{kind:"ScalarField",alias:null,name:"www_url_should_open_in_blank_target",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"seen_state",args:null,storageKey:null},{kind:"LinkedField",alias:"creation_time",name:"creation_time_with_relative_text",storageKey:null,args:null,concreteType:"CreationTimeWithRelativeText",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"timestamp",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"icon_data",storageKey:null,args:null,concreteType:"GlyphIconData",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"glyph_name",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification",args:null},{kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification",args:null},{kind:"ClientExtension",selections:[{kind:"ScalarField",alias:null,name:"is_hidden",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("useNotificationsImpressionLogger",["requireDeferred","React","gkx","usePartialViewImpression"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("requireDeferred")("Banzai");c=b("React");var h=c.useCallback;function a(a){__p&&__p();var c=a.actorId,d=a.loggerContext,e=a.notifId,f=a.trackingData;a=h(function(a){a.hiddenTime;var b=a.visibleDuration;a.visibleTime;var h={notification_data:babelHelpers["extends"]({},f,{duration:b,logger_context:d,notif_id:e,user_id:c}),ref:"www_tab"};g.onReady(function(a){a.post("notif_impression_events",h)})},[f,d,e,c]);a=b("usePartialViewImpression")({onImpressionEnd:a});return[a,null]}e.exports=a}),null);
__d("CometNotificationsDropdownMenuButton.react",["fbt","requireDeferred","CometListCellHoverButton.react","CometRelay","JSResource","React","CometNotificationsDropdownMenuButton_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("requireDeferred")("Banzai");b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");c=b("React");var l=c.useCallback,m=b("JSResource")("CometNotificationsDropdownMenu.react").__setRef("CometNotificationsDropdownMenuButton.react"),n="open_options_menu";function a(a){var c=j(h!==void 0?h:h=b("CometNotificationsDropdownMenuButton_notification.graphql"),a.notification),d=a.userId,e=l(function(){i.onReady(function(a){a.post(n,{notification_data:{alert_id:c==null?void 0:c.notif_id,logger_context:"www_tab",notif_type:c==null?void 0:c.notif_type,user_id:d},ref:"www_tab"})})},[c,d]);return k.jsx(b("CometListCellHoverButton.react"),{hidden:a.hidden,label:g._("Opciones para esta notificaci\u00f3n"),onFocusChange:a.onFocusChange,onHoverChange:a.onHoverChange,onMenuStateChange:a.onMenuStateChange,onPress:e,popoverProps:{notification:c},popoverResource:m,popoverTriggerType:"lazy",popoverType:"menu"})}e.exports=a}),null);
__d("CometNotificationsListItemAttachment.react",["CometNotificationsTimestamp.react","CometRelay","React","CometNotificationsListItemAttachment_notification.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("CometRelay").MatchContainer;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React");function a(a){var c=a.date,d=a.notification,e=a.notificationsTimestamp;a=i(g!==void 0?g:g=b("CometNotificationsListItemAttachment_notification.graphql"),d);d=a.notif_attachments;if(d==null)return null;a=d.map(function(a,b){return j.jsx(h,{match:a,props:{date:c,notifAttachments:a,notificationsTimestamp:e}},b)}).filter(Boolean);return a.length===0?null:a}e.exports=a}),null);
__d("CometNotificationsListItemAttachmentWrapper",["CometErrorBoundary.react","CometNotificationsListItemAttachment.react","CometNotificationsTimestamp.react","React"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.date,d=a.notification;a=a.notificationsTimestamp;return g.jsx(b("CometErrorBoundary.react"),{fallback:null,children:g.jsx(b("CometNotificationsListItemAttachment.react"),{date:c,notification:d,notificationsTimestamp:a})})}e.exports=a}),null);
__d("UntruncatedNotificationsTypedLoggerLite",["Banzai","generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:UntruncatedNotificationsLoggerConfig")}),null);
__d("cometNotificationsListItemIcon",["ix","ImageIconSource","asset","getReactionSVGSource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();switch(a){case"bar_chart":return new(b("ImageIconSource"))(g("958828"),28,28);case"games":return new(b("ImageIconSource"))(g("958821"),28,28);case"cake":return new(b("ImageIconSource"))(g("958833"),28,28);case"breaking_news":return new(b("ImageIconSource"))(g("958831"),28,28);case"politics":return new(b("ImageIconSource"))(g("958871"),28,28);case"comment":return new(b("ImageIconSource"))(g("958852"),28,28);case"safety_check":return new(b("ImageIconSource"))(g("958876"),28,28);case"direct":return new(b("ImageIconSource"))(g("958854"),28,28);case"pencil_checkmark":return new(b("ImageIconSource"))(g("958865"),28,28);case"calendar":return new(b("ImageIconSource"))(g("958835"),28,28);case"app_facebook":return new(b("ImageIconSource"))(g("958818"),28,28);case"badge_heart":return new(b("ImageIconSource"))(g("958827"),28,28);case"posts":return new(b("ImageIconSource"))(g("958873"),28,28);case"friend_add":return new(b("ImageIconSource"))(g("958857"),28,28);case"friends":return new(b("ImageIconSource"))(g("958858"),28,28);case"fundraiser":return new(b("ImageIconSource"))(g("958859"),28,28);case"high_five_hands":return new(b("ImageIconSource"))(g("958861"),28,28);case"group":return new(b("ImageIconSource"))(g("958860"),28,28);case"relationship":return new(b("ImageIconSource"))(g("958875"),28,28);case"camcorder_live":return new(b("ImageIconSource"))(g("958836"),28,28);case"caution_triangle":return new(b("ImageIconSource"))(g("958837"),28,28);case"marketplace":return new(b("ImageIconSource"))(g("894424"),28,28);case"circle_3":return new(b("ImageIconSource"))(g("958838"),28,28);case"app_pages":return new(b("ImageIconSource"))(g("958824"),28,28);case"photo":return new(b("ImageIconSource"))(g("958867"),28,28);case"pin":return new(b("ImageIconSource"))(g("958868"),28,28);case"poke":return new(b("ImageIconSource"))(g("958870"),28,28);case"profile_circle":return new(b("ImageIconSource"))(g("958874"),28,28);case"comment_star":return new(b("ImageIconSource"))(g("958851"),28,28);case"bookmark":return new(b("ImageIconSource"))(g("958830"),28,28);case"shield":return new(b("ImageIconSource"))(g("958878"),28,28);case"share":return new(b("ImageIconSource"))(g("958877"),28,28);case"tag":return new(b("ImageIconSource"))(g("958882"),28,28);case"topics":return new(b("ImageIconSource"))(g("958883"),28,28);case"arrows_up_down":return new(b("ImageIconSource"))(g("958826"),28,28);case"play_circle":return new(b("ImageIconSource"))(g("958869"),28,28);case"watch_tv":return new(b("ImageIconSource"))(g("958885"),28,28);case"polls":return new(b("ImageIconSource"))(g("958872"),28,28);case"spark_ar":return new(b("ImageIconSource"))(g("1079479"),28,28);default:case"default":return new(b("ImageIconSource"))(g("958829"),28,28)}}function a(a,c){if(c!=null){c=b("getReactionSVGSource")(c);if(c!=null)return new(b("ImageIconSource"))(c,28,28)}return a!=null?h(a):null}e.exports=a}),null);
__d("useScrollToNotif",["React","XCometNotificationsControllerRouteBuilder","cometRouteMatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("React");var g=a.useRef,h=b("cometRouteMatcher").useRouteUrlMatcher;c=function(a){var c=h();a=a!=null?c(a).selected:!1;c=c(b("XCometNotificationsControllerRouteBuilder").buildURL({}).toString()).selectedRoot;c=g(a&&!c);return[a,c]};e.exports={useScrollToNotif:c}}),null);
__d("CometNotificationsListItem.react",["fbt","requireDeferred","CometBadge.react","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachmentWrapper","CometNotificationsMarkReadMutation","CometNotificationsTimestamp.react","CometPressable.react","CometRelay","CometTextWithEntitiesRelay.react","React","TetraAccessoryListCell.react","TetraIcon.react","UntruncatedNotificationsTypedLoggerLite","absoluteToRelative","cometNotificationsListItemIcon","gkx","mergeRefs","recoverableViolation","scrollIntoView","stylex","useMenuButtonVisibilityState","useNotificationsImpressionLogger","useScrollToNotif","useVisibilityObserver","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("CometRelay").useRelayEnvironment,l=b("React");c=b("React");var m=c.useCallback,n=c.useContext,o=c.useLayoutEffect,p=c.useMemo,q=c.useRef,r=b("UntruncatedNotificationsTypedLoggerLite").log,s=b("useScrollToNotif").useScrollToNotif,t=0,u="notif_click_events",v=b("requireDeferred")("Banzai"),w={"*":[b("CometBoldedEntityRenderer")]},x=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()];function y(a){a=a.children;return a}var aa=h!==void 0?h:h=b("CometNotificationsListItem_actor.graphql"),ba=i!==void 0?i:i=b("CometNotificationsListItem_notification.graphql");function a(a){__p&&__p();var c,d,e,f,h=a.actor,i=a.handleNotificationVisible,z=a.isFromPageNotification,A=a.loggerContext,B=A===void 0?"www_tab":A;A=a.notification;var C=a.onClick,D=a.onClose,E=a.replace;a=a.routeTarget;h=j(aa,h);A=j(ba,A);var F=A.creation_time,G=A.id,H=A.notif_id,I=A.notif_image,J=A.notif_type,K=A.seen_state,L=A.title,M=A.tracking,N=q(null);c=(c=A==null?void 0:A.url)!=null?c:"#";var O=h==null?void 0:h.id;h=(h=z)!=null?h:!1;var P=p(function(){if(M!=null){try{return JSON.parse(M)}catch(a){b("recoverableViolation")("Failed to parse tracking string: "+M,"Notifications",{error:a})}return{}}},[M]);c=window.location.hostname.startsWith("www.facebook.com")?c:c.includes("developers.facebook.com")?c:b("absoluteToRelative")(c);var Q=J!=null?{notif_type:J}:null;h={onNavigate:D,passthroughProps:{ref:"notification"},replace:(D=E)!=null?D:void 0,routeTarget:h?"content":(E=a)!=null?E:void 0,target:Boolean(A.www_url_should_open_in_blank_target)?"_blank":void 0,traceParams:Q,updateProductAttribution:!0,url:(D=c)!=null?D:void 0};var R=k(),ca="MAIN_SURFACE",da="COMET_DESKTOP",S="unknown";a=s(c);E=a[0];var T=a[1],U=T.current;Q=n(b("CometFocusTableContext"));D=Q.FocusCell;c=Q.FocusRow;Q=(a=D)!=null?a:y;a=(D=c)!=null?D:y;o(function(){N.current!=null&&U&&(b("scrollIntoView")(N.current,{behavior:"auto",verticalAlign:"center"}),T.current=!1)},[U,T]);c=m(function(){G!=null&&O!=null&&(C&&C(),v.onReady(function(a){a.post(u,{notification_data:babelHelpers["extends"]({},P,{alert_id:H,logger_context:B,to_user:O}),ref:"www_tab"})}),b("CometNotificationsMarkReadMutation")(R,{input:{is_comet:!0,notif_id:G,source:S}}))},[O,R,B,H,G,C,P]);D=m(function(){G!=null&&b("CometNotificationsMarkReadMutation")(R,{input:{environment:b("gkx")("1264016")?ca:da,is_comet:!0,notif_id:G,source:S}})},[R,G]);L=L;F=F==null?void 0:F.timestamp;I=I==null?void 0:I.uri;var V=b("useMenuButtonVisibilityState")(),ea=V[0];V=V[1];var W=V.setListItemHovered,fa=V.setMenuBtnFocused,ga=V.setMenuBtnHovered;V=V.setMenuOpened;var ha=m(function(){W(!1)},[W]),ia=m(function(){W(!0)},[W]),X=b("useNotificationsImpressionLogger")({actorId:O,loggerContext:B,notifId:H,trackingData:P}),Y=X[0];X=X[1];var Z=m(function(){K==="UNSEEN_AND_UNREAD"&&i&&i()},[i,K]),$=b("useVisibilityObserver")({onVisible:Z});Z=p(function(){if(B==="www_tab"||B==="beeper")return b("mergeRefs")(Y,$,N);else return b("mergeRefs")(N,$)},[B,Y,$]);if(G==null||L==null||I==null||K==null||F==null)return null;d=(d=L.text)==null?void 0:d.length;d!=null&&d>t&&r({length:d,notification_type:J});d=new Date(F*1e3);F=K==="SEEN_AND_READ";e=(e=A.icon_data)==null?void 0:e.reaction_type;f=(f=A.icon_data)==null?void 0:f.glyph_name;f=b("cometNotificationsListItemIcon")(f,e);e=f!=null?{icon:l.jsx(b("TetraIcon.react"),{color:"white",icon:f}),size:28,type:"activityBadge"}:null;f=l.jsx(b("CometNotificationsTimestamp.react"),{date:d,seenAndRead:F});e={addOn:e,shape:"circle",size:56,source:{uri:I},type:"profile-photo"};I={override_component:l.jsx(b("CometNotificationsListItemAttachmentWrapper"),{date:d,notification:A,notificationsTimestamp:f}),type:"designOverride_Notifications_bottomAddOn"};d=A==null?void 0:A.is_hidden;return d===!0?null:l.jsx(a,{children:l.jsxs("div",{className:"l9j0dhe7",onMouseEnter:ia,onMouseLeave:ha,ref:Z,role:"row",children:[X,l.jsx(Q,{children:l.jsx("div",{role:"gridcell",children:l.jsx(b("TetraAccessoryListCell.react"),{addOnBottom:I,addOnPrimary:e,addOnSecondary:F?null:{addOn:l.jsx(b("CometPressable.react"),{expanding:!0,onPress:D,overlayDisabled:!0,role:"none",testid:void 0,children:l.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"},body:l.jsxs(l.Fragment,{children:[F?null:l.jsx("div",{className:"dxrwds1f pmk7jnqg g0aa4cga q45zohi1",children:g._("No le\u00edda")}),l.jsx(b("CometTextWithEntitiesRelay.react"),{renderers:w,textWithEntities:L,transforms:x})]}),bodyColor:F?"secondary":"primary",bodyLineLimit:3,linkProps:h,meta:J!=="friend"?f:null,onPress:c,selected:E,testid:void 0})})}),J!=="friend"?l.jsx(Q,{children:l.jsx("div",{role:"gridcell",children:l.jsx(b("CometNotificationsDropdownMenuButton.react"),{hidden:(d=z)!=null?d:!ea,notification:A,onFocusChange:fa,onHoverChange:ga,onMenuStateChange:V,userId:O})})}):null]})})}e.exports=l.memo(a)}),null);